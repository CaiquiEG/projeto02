<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="../styles/register.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
</head>
<body class="body">
    <div class="container">
        <span style="font-size: xx-large; font-weight: 650; color: #4B79A1;">Cadastro</span>
        <form action="" method="POST" class="entry">
            <div style="width: 100%;">
                <span style="font-weight: 700; font-size: medium;">Nome:</span>
                <input type="text" placeholder="Digite seu nome" id="nome">
            </div>
            <div style="width: 100%;">
                <span style="font-weight: 700; font-size: medium;">E-mail:</span>
                <input type="email" placeholder="Digite seu e-mail" id="email">
            </div>
            <div style="width: 100%;">
                <span style="font-weight: 700; font-size: medium;">Senha:</span>
                <input type="password" placeholder="Digite sua senha" id="senha">
            </div>
            <div style="width: 100%;">
                <span style="font-weight: 700; font-size: medium;">Animes favoritos:</span>
                <div class="favorites">
                    <label class="checkbox-label">
                        <input type="checkbox" value="Naruto"><span>Naruto</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="Dragon Ball"><span>Dragon Ball</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="One Piece"><span>One Piece</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="Hunter x Hunter"><span>Hunter x Hunter</span>
                    </label>
                    <label class="checkbox-label">
                        <input type="checkbox" value="Demon Slayer"><span>Demon Slayer</span>
                    </label>
                </div>
            </div>
            <input type="submit" value="Cadastrar" class="button">
        </form>
        <div>
            <span>Já possui conta? </span><a href="login.html" style="color: #4B79A1; text-decoration: none;">Faça login</a>
        </div>
    </div>
    <script>
        document.querySelector('.entry').addEventListener('submit', function (event) {
            event.preventDefault();

            const nome = document.getElementById('nome').value.trim();
            const email = document.getElementById('email').value.trim();
            const senha = document.getElementById('senha').value.trim();
            const favoritos = [];

            document.querySelectorAll('.favorites input[type="checkbox"]').forEach((checkbox) => {
                if (checkbox.checked) {
                    favoritos.push(checkbox.value);
                }
            });

            if (!nome || !email || !senha) {
                alert('Por favor, preencha todos os campos obrigatórios.');
                return;
            }

            const newUser = {
                nome,
                email,
                senha,
                favoritos
            };

            localStorage.setItem('user', JSON.stringify(newUser));

            alert('Cadastro realizado com sucesso!');
            window.location.href = "login.html";
        });
    </script>
</body>
</html>
